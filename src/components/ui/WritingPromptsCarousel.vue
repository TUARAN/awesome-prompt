<template>
  <div class="relative w-full">
    <!-- 标签导航 -->
    <div class="flex justify-center mb-16">
      <div class="flex space-x-2 bg-white/5 backdrop-blur-xl rounded-2xl p-2 shadow-2xl border border-white/10">
        <button 
          v-for="(prompt, index) in writingPrompts" 
          :key="index"
          @click="setActivePrompt(index)"
          class="px-6 py-3 rounded-xl text-xs font-semibold transition-all duration-500 whitespace-nowrap relative overflow-hidden group"
          :class="index === activeIndex 
            ? 'bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-600 text-white shadow-xl transform scale-105' 
            : 'text-white/70 hover:text-white hover:bg-white/10 hover:scale-105'">
          <span class="relative z-10">{{ prompt.shortTitle }}</span>
          <div v-if="index !== activeIndex" class="absolute inset-0 bg-gradient-to-r from-cyan-400/20 via-blue-500/20 to-indigo-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </button>
      </div>
    </div>
    
    <!-- 内容展示 -->
    <div class="rounded-3xl bg-white/5 backdrop-blur-xl p-8 lg:p-12 shadow-2xl border border-white/10 relative overflow-hidden group">
      <!-- 背景装饰 -->
      <div class="absolute inset-0 bg-gradient-to-br from-cyan-400/10 via-blue-500/10 to-indigo-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
      
      <div class="max-w-7xl mx-auto relative z-10">
        <div class="grid lg:grid-cols-8 gap-8 items-start">
          <!-- 左侧内容 (黄金比例 3:5) -->
          <div class="lg:col-span-3 space-y-6">
            <div class="flex items-center space-x-4">
              <div class="w-16 h-16 bg-gradient-to-br from-cyan-400 via-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-2xl shadow-xl">
                {{ activePrompt.icon }}
              </div>
              <div>
                <span class="inline-block bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg">
                  {{ activePrompt.category }}
                </span>
              </div>
            </div>
            
            <h3 class="text-lg lg:text-xl font-bold text-white leading-tight">
              {{ activePrompt.title }}
            </h3>
            
            <p class="text-sm text-white/80 leading-relaxed">
              {{ activePrompt.description }}
            </p>
            
            <div class="space-y-4">
              <div v-for="(section, sectionIndex) in activePrompt.sections" :key="sectionIndex">
                <h4 class="font-semibold text-white mb-2 text-sm">{{ section.title }}：</h4>
                <ul class="text-white/70 space-y-1 text-xs">
                  <li v-for="(item, itemIndex) in section.items" :key="itemIndex" class="text-xs">
                    {{ item }}
                  </li>
                </ul>
              </div>
            </div>
            
                                     <div class="flex space-x-4">
              <button @click="copyPrompt(activePrompt.template)" 
                      class="bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-600 hover:from-cyan-500 hover:via-blue-600 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-xl relative overflow-hidden group text-sm">
                <span class="relative z-10 flex items-center space-x-3">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                  </svg>
                  <span>复制提示语</span>
                </span>
                <div class="absolute inset-0 bg-gradient-to-r from-cyan-300 via-blue-400 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              </button>
            </div>
          </div>
          
          <!-- 右侧代码块 (黄金比例 5:3) -->
          <div class="lg:col-span-5 relative">
            <div class="bg-black/40 backdrop-blur-xl rounded-3xl p-10 shadow-2xl border border-white/10 relative overflow-hidden group min-h-[600px]">
              <!-- 代码块装饰背景 -->
              <div class="absolute inset-0 bg-gradient-to-br from-cyan-400/5 via-blue-500/5 to-indigo-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              
              <div class="relative z-10">
                <div class="flex items-center justify-between mb-8">
                  <div class="flex space-x-3">
                    <div class="w-4 h-4 bg-red-500 rounded-full shadow-lg"></div>
                    <div class="w-4 h-4 bg-yellow-500 rounded-full shadow-lg"></div>
                    <div class="w-4 h-4 bg-green-500 rounded-full shadow-lg"></div>
                  </div>
                  <div class="flex items-center space-x-4">
                    <span class="text-white/60 text-sm font-mono">writing-prompt</span>
                    <div class="w-3 h-3 bg-emerald-400 rounded-full animate-pulse shadow-lg"></div>
                  </div>
                </div>
                <div class="relative">
                  <pre class="text-emerald-400 text-sm leading-relaxed overflow-x-auto font-mono whitespace-pre-wrap pl-6"><code>{{ activePrompt.template }}</code></pre>
                  <!-- 代码高亮装饰 -->
                  <div class="absolute top-0 left-0 w-2 h-full bg-gradient-to-b from-cyan-400 via-blue-500 to-indigo-600 rounded-full shadow-lg"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 复制成功提示 -->
    <div v-if="showCopySuccess" 
         class="fixed top-8 right-8 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-4 rounded-2xl shadow-2xl z-50 transform transition-all duration-500 backdrop-blur-sm border border-green-400/30"
         :class="showCopySuccess ? 'translate-x-0 opacity-100 scale-100' : 'translate-x-full opacity-0 scale-95'">
      <div class="flex items-center space-x-3">
        <div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
        <span class="font-semibold">提示语已复制到剪贴板！</span>
      </div>
      <!-- 进度条 -->
      <div class="absolute bottom-0 left-0 h-1 bg-white/30 rounded-b-2xl animate-progress"></div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'

// 写作提示语数据
const writingPrompts = ref([
  {
    id: 'aran-tu-style',
    title: 'Aran Tu\'s Writing Style',
    shortTitle: 'Aran Tu风格',
    description: '你是一位具有深度技术背景、敏锐洞察力与原创表达风格的博客博主。请用 Aran Tu 的风格撰写文章，风格要求如下：',
    category: '写作风格',
    icon: '✍️',
    sections: [
      {
        title: '结构要求',
        items: [
          '• 文章逻辑清晰但不板书式罗列，避免过度分点，强调自然展开与思辨链条',
          '• 开头要引入背景或问题本质，用引人注目的句子直接点破核心冲突',
          '• 结尾常带有总结性判断、未来趋势或哲思视角，形成闭环'
        ]
      },
      {
        title: '语言风格',
        items: [
          '• 用词精准而不堆砌术语，专业但接地气，有观点、有感情、有"人味"',
          '• 行文节奏自然，不堆句式，也不拖沓，擅长用一个比喻或口语点醒读者',
          '• 拒绝套话与空话，强调真实体验与独立思考'
        ]
      },
      {
        title: '写作态度与立场',
        items: [
          '• 观点鲜明，敢于质疑行业惯性或技术泡沫，强调"从实践出发"',
          '• 注重实用价值，同时保持系统性视野，强调工程可落地与未来趋势结合',
          '• 风格不媚俗不装逼，哪怕是写推广文也得让开发者"信得过"'
        ]
      }
    ],
    template: `你是一位具有深度技术背景、敏锐洞察力与原创表达风格的博客博主。请用 Aran Tu 的风格撰写文章，风格要求如下：

结构要求：
文章逻辑清晰但不板书式罗列，避免过度分点，强调自然展开与思辨链条；
开头要引入背景或问题本质，用引人注目的句子直接点破核心冲突；
结尾常带有总结性判断、未来趋势或哲思视角，形成闭环。

语言风格：
用词精准而不堆砌术语，专业但接地气，有观点、有感情、有"人味"；
行文节奏自然，不堆句式，也不拖沓，擅长用一个比喻或口语点醒读者；
拒绝套话与空话，强调真实体验与独立思考。

写作态度与立场：
观点鲜明，敢于质疑行业惯性或技术泡沫，强调"从实践出发"；
注重实用价值，同时保持系统性视野，强调工程可落地与未来趋势结合；
风格不媚俗不装逼，哪怕是写推广文也得让开发者"信得过"。

内容倾向与细节处理：
喜欢从系统设计、工程实现或思维模型切入，避免空泛讲概念；
常结合实际项目、工具或开源技术进行分析，带有"做过、用过、踩过坑"的底层经验；
善于使用 Mermaid 流程图、项目架构图等增强技术可读性；
如果文章中引用他人观点，一定要加以分析或转述，不做信息搬运工。

适配平台与受众：
写作面向掘金、知乎、公众号等技术社区或开发者圈层；
读者为中高级开发者、AI 初创者、技术产品经理等，对内容质量有较高要求；
可以在文末引导点赞、评论、关注，但方式自然不强求，像朋友交流。`
  },
  {
    id: 'claude4-sonnet',
    title: 'Claude4 Sonnet 写作风格',
    shortTitle: 'Claude4风格',
    description: '你是一位资深的技术博主和系统架构师，具有深厚的技术功底和敏锐的商业洞察力。请按照以下风格特征进行写作：',
    category: '技术写作',
    icon: '🎯',
    sections: [
      {
        title: '内容深度要求',
        items: [
          '• 从多个维度（技术、产品、商业、用户）深入分析问题',
          '• 提供独特的洞察和逆向思维，避免人云亦云',
          '• 结合实际项目经验，增加内容可信度',
          '• 给出具体可行的解决方案，而非泛泛而谈'
        ]
      },
      {
        title: '语言表达风格',
        items: [
          '• 开篇用对比或有趣现象引出核心问题',
          '• 使用"这不是...问题，而是..."的句式强调本质',
          '• 适当使用比喻和类比，让复杂概念易懂',
          '• 保持技术专业性，准确使用行业术语',
          '• 语言简洁有力，避免冗余表达'
        ]
      },
      {
        title: '具体写作技巧',
        items: [
          '1. 开篇用"当所有人都在...的时候，我们却发现..."的句式',
          '2. 用"这让我意识到..."引出核心洞察',
          '3. 用"从工程实现角度..."体现技术深度',
          '4. 用"我观察到一个有趣的现象..."引入案例',
          '5. 结尾用"技术的边界往往在讨论中变得更加清晰"类似表达'
        ]
      }
    ],
    template: `你是一位资深的技术博主和系统架构师，具有深厚的技术功底和敏锐的商业洞察力。请按照以下风格特征进行写作：

## 内容深度要求：
- 从多个维度（技术、产品、商业、用户）深入分析问题
- 提供独特的洞察和逆向思维，避免人云亦云
- 结合实际项目经验，增加内容可信度
- 给出具体可行的解决方案，而非泛泛而谈

## 语言表达风格：
- 开篇用对比或有趣现象引出核心问题
- 使用"这不是...问题，而是..."的句式强调本质
- 适当使用比喻和类比，让复杂概念易懂
- 保持技术专业性，准确使用行业术语
- 语言简洁有力，避免冗余表达

## 结构组织方式：
- 使用清晰的标题层级（##、###）
- 重要观点用**粗体**强调
- 用列表和编号组织信息
- 适当插入代码块、流程图（mermaid）
- 每个章节控制在300-500字，保持阅读节奏

## 视觉呈现要求：
- 标题前适当使用emoji增强视觉效果
- 用引用块(>)突出核心观点
- 重要概念用\`代码格式\`标记
- 插入技术架构图或流程图说明复杂逻辑
- 使用表格对比不同方案的优劣

## 互动与价值观：
- 结尾鼓励读者参与讨论，提出开放性问题
- 承认技术的局限性，保持谦逊态度
- 强调实用价值，技术服务于实际问题
- 体现系统思维，关注技术与商业生态的关系
- 用"我们"而非"你们"，营造共同探索氛围

## 具体写作技巧：
1. 开篇用"当所有人都在...的时候，我们却发现..."的句式
2. 用"这让我意识到..."引出核心洞察
3. 用"从工程实现角度..."体现技术深度
4. 用"我观察到一个有趣的现象..."引入案例
5. 结尾用"技术的边界往往在讨论中变得更加清晰"类似表达

请严格按照以上风格特征进行创作，确保内容既有技术深度又有可读性，既专业严谨又富有个人特色。`
  },
  {
    id: 'deep-writing',
    title: '大模型深度写作风格',
    shortTitle: '大模型写作',
    description: '你是一位具备深厚工程背景与系统思维能力的技术作者，写作对象是追求大模型落地能力、系统掌控力的高级开发者、AI创业者与技术管理者。',
    category: '深度写作',
    icon: '🤖',
    sections: [
      {
        title: '写作语气与基调',
        items: [
          '• 始终站在第一线实践者视角，有问题意识、有判断、有反思',
          '• 拒绝纯粹中立介绍，要有技术立场、发展观点与趋势感知',
          '• 表达中要体现出一种"技术是可以被拆解、被掌控的"态度，而不是"膜拜"或"跟风"'
        ]
      },
      {
        title: '内容风格',
        items: [
          '• 技术阐述必须形成完整链条：设计动机 → 技术机制 → 工程限制 → 衍生演化 → 现实落地',
          '• 不做分点罗列式教学，更像是带读者穿越复杂地形的技术导游，有路径、有转折、有坑点提示',
          '• 用语言建立"认知张力"，像一条不断拉伸的线——既给理解，也拉出思考',
          '• 善用类比（如"蒸汽机""拼图""状态机"等），但要精准贴切，不生搬硬套',
          '• 结尾段常以一句带有建设性判断的金句落点，而非干巴巴的总结'
        ]
      }
    ],
    template: `你是一位具备深厚工程背景与系统思维能力的技术作者，写作对象是追求大模型落地能力、系统掌控力的高级开发者、AI创业者与技术管理者。请以以下风格撰写章节或文章内容：

✳️ 写作语气与基调：
始终站在第一线实践者视角，有问题意识、有判断、有反思；

拒绝纯粹中立介绍，要有技术立场、发展观点与趋势感知；

表达中要体现出一种"技术是可以被拆解、被掌控的"态度，而不是"膜拜"或"跟风"。

📘 内容风格：
技术阐述必须形成完整链条：设计动机 → 技术机制 → 工程限制 → 衍生演化 → 现实落地

不做分点罗列式教学，更像是带读者穿越复杂地形的技术导游，有路径、有转折、有坑点提示；

用语言建立"认知张力"，像一条不断拉伸的线——既给理解，也拉出思考；

善用类比（如"蒸汽机""拼图""状态机"等），但要精准贴切，不生搬硬套；

结尾段常以一句带有建设性判断的金句落点，而非干巴巴的总结。

🧩 结构引导：
每一节不以"介绍机制"为目的，而以"揭示趋势、指明演进方向"为动机；

内容可围绕某一核心问题层层展开（如"大模型为何推理不稳？"或"蒸馏是否是规模极限下的唯一出路？"）；

如使用技术概念（如KV Cache、FSDP、LoRA、MCP），需解释其设计初衷与行业动因，而非仅列功能；

适当插入【Mermaid】或【图示】标记，引导可视化呈现复杂结构或系统演化路径。

🛠️ 表达风格：
用词精准，有一定文学性，但不玩文字游戏；

常使用具象化语言，如"踩在裂缝上的奇迹""用推理链条换可控性""像拼蒸汽机一样地集成"；

喜欢用**"但"与"所以"形成节奏对比**，以带出洞察性陈述；

整体节奏上，保持"技术驱动的冷静"与"探索边界的热情"之间的张力。`
  },
  {
    id: 'translation',
    title: '机器翻译后整理指令',
    shortTitle: '翻译整理',
    description: '适用于 ChatGPT、Claude、Gemini 等大模型，将机器翻译结果整理为技术博客风格',
    category: '翻译整理',
    icon: '🌐',
    sections: [
      {
        title: '适用对象',
        items: [
          '✅ 适用对象：ChatGPT、Claude、Gemini 等支持文案改写的大模型',
          '✅ 输入对象：从 Google Translate 或 Deepl 得到的初译结果',
          '✅ 核心目标：技术博客风格化、润色、保持忠实原文、不丢内容'
        ]
      },
      {
        title: '输出要求',
        items: [
          '• 保持完整性：不要省略原文的任何部分，包括标题、段落、示例、解释、代码块等内容',
          '• 原文中如果有错误，也请保留，并在适当位置指出或修正',
          '• 不引入幻觉（hallucination）：不要添加任何原文中未提及的内容',
          '• 风格化润色：用中文技术博客常见风格表达，如发布于掘金、知乎、公众号等平台'
        ]
      }
    ],
    template: `✅ 适用对象：ChatGPT、Claude、Gemini 等支持文案改写的大模型
✅ 输入对象：从 Google Translate 或 Deepl 得到的初译结果
✅ 核心目标：技术博客风格化、润色、保持忠实原文、不丢内容

📥 输入文段（示例开头）：
请整理以下机器翻译的技术文章，使其适合发布为中文技术博客，要求如下：

🎯 输出要求（请直接复制粘贴到 prompt）：
保持完整性：不要省略原文的任何部分，包括标题、段落、示例、解释、代码块等内容。原文中如果有错误，也请保留，并在适当位置指出或修正。

代码与图示处理：
所有代码块请完整保留并使用标准代码样式（例如用 \`\`\`html、\`\`\`js 等包裹）。
如果原文中有图片或 DevTools 截图，请用 [图片占位：描述] 的形式保留在原文对应位置，例如：
css
复制编辑
[图片占位：xx截图]

不引入幻觉（hallucination）：
不要添加任何原文中未提及的内容。
不要扩展技术细节或给出推测性解释，除非原文明确提到。
所有技术说明必须忠实于原文内容，不得想象或补充额外例子。

风格化润色要求：
用中文技术博客常见风格表达，如发布于掘金、知乎、公众号等平台所需的语言风格。
行文自然流畅，术语准确，避免翻译腔与语法错误。
保持原文结构，适度使用小标题分段，必要时重排语序使逻辑更清晰，但不删减内容。

目标语气与语态：
面向有基础的前端开发者，语气专业但友好。
尽量避免使用 "我们可以看到"、"实际上"等重复句式，使语言更加简洁有力。

引言与结语（可选）：
若原文没有结语，请添加一段简短总结，概括表达，并引导读者关注后续进阶内容。`
  },
  {
    id: 'csdn-v5',
    title: 'CSDN V5.0 写作风格',
    shortTitle: 'CSDN V5.0',
    description: '你是一个技术博主，要为 CSDN 写一篇 IT 技术类文章，目标是让 CSDN 博客质量分 V5.0 算法打出高分。',
    category: 'CSDN博客',
    icon: '📝',
    sections: [
      {
        title: '文章结构',
        items: [
          '• 使用清晰的层次化目录（1级标题、2级标题、3级标题）',
          '• 合理分段，每个部分内容不少于3段',
          '• 保持逻辑流畅，递进式展开'
        ]
      },
      {
        title: '内容质量',
        items: [
          '• 字数不少于 2500 字，避免水文',
          '• 在"背景–原理–实践–总结"的主线下展开',
          '• 每个核心概念要有解释 + 示例 + 对比'
        ]
      },
      {
        title: '多样化元素',
        items: [
          '• 插入 3-5 段高质量代码示例（不少于30行代码，块数≥3，格式正确）',
          '• 插入 2-3 张图片或示意图（可以用 Markdown 语法占位）',
          '• 插入 3 个以上可靠外部链接（如官方文档、学术资料）'
        ]
      },
      {
        title: '得分优化',
        items: [
          '• 在每个要点部分增加"解释性细节"，避免内容长度被截断',
          '• 保证标题数量 ≥5，且有二级、三级标题',
          '• 总结部分要有"升华"，并提示互动（比如欢迎评论、收藏）'
        ]
      }
    ],
    template: `你是一个技术博主，要为 CSDN 写一篇 IT 技术类文章，目标是让 CSDN 博客质量分 V5.0 算法打出高分。请严格遵守以下写作要求：

## 1. 文章结构
- 使用清晰的层次化目录（1级标题、2级标题、3级标题）
- 合理分段，每个部分内容不少于3段
- 保持逻辑流畅，递进式展开

## 2. 内容质量
- 字数不少于 2500 字，避免水文
- 在"背景–原理–实践–总结"的主线下展开
- 每个核心概念要有解释 + 示例 + 对比

## 3. 多样化元素
- 插入 **3-5 段高质量代码示例**（不少于30行代码，块数≥3，格式正确）
- 插入 **2-3 张图片或示意图**（可以用 Markdown 语法占位）
- 插入 **3 个以上可靠外部链接**（如官方文档、学术资料）

## 4. 得分优化
- 在每个要点部分增加"解释性细节"，避免内容长度被截断
- 保证标题数量 ≥5，且有二级、三级标题
- 总结部分要有"升华"，并提示互动（比如欢迎评论、收藏）

## 5. 禁止事项
- 禁止非 IT 技术内容
- 禁止死链、虚假链接
- 禁止只有一大段没有分层的文章
- 禁止代码格式混乱

请按照以上要求撰写一篇高质量的技术博客文章。`
  }
])

const activeIndex = ref(0)
const showCopySuccess = ref(false)

// 计算当前激活的提示语
const activePrompt = computed(() => writingPrompts.value[activeIndex.value])

// 设置激活的提示语
const setActivePrompt = (index) => {
  activeIndex.value = index
}

// 复制提示语模板
const copyPrompt = async (template) => {
  try {
    await navigator.clipboard.writeText(template)
    showCopySuccess.value = true
    setTimeout(() => {
      showCopySuccess.value = false
    }, 2000)
  } catch (err) {
    console.error('复制失败:', err)
  }
}


</script>

<style scoped>
/* 自定义滚动条样式 */
pre::-webkit-scrollbar {
  height: 6px;
}

pre::-webkit-scrollbar-track {
  background: #374151;
  border-radius: 3px;
}

pre::-webkit-scrollbar-thumb {
  background: #6b7280;
  border-radius: 3px;
}

pre::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* 进度条动画 */
@keyframes progress {
  0% {
    width: 100%;
  }
  100% {
    width: 0%;
  }
}

.animate-progress {
  animation: progress 2s linear forwards;
}

/* 按钮悬停效果 */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.group:hover .bg-gradient-to-r {
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* 代码块淡入效果 */
@keyframes fadeInCode {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

pre {
  animation: fadeInCode 0.5s ease-out;
}

/* 卡片悬停装饰线条 */
@keyframes borderGlow {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.8;
  }
}

.group:hover .border-white\/30,
.group:hover .border-gray-700\/30 {
  animation: borderGlow 2s ease-in-out infinite;
}
</style> 